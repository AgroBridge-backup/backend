# ============================================================================
# AgroBridge API - Test Environment Configuration
# ============================================================================
# This file is loaded by Vitest for test execution
# CRITICAL: Uses separate test database to prevent contaminating dev data
# ============================================================================

# ─────────────────────────────────────────────────────────────────────────────
# DATABASE (Test Instance - SEPARATE from development)
# ─────────────────────────────────────────────────────────────────────────────
# Note: The test suite will reset this database. NEVER point to production!
DATABASE_URL="postgresql://testuser:testpass@localhost:5432/agrobridge_test?schema=public&connection_limit=5"

# ─────────────────────────────────────────────────────────────────────────────
# REDIS (Uses DB index 1 to isolate from dev which uses 0)
# ─────────────────────────────────────────────────────────────────────────────
REDIS_URL="redis://localhost:6379/1"
REDIS_HOST="localhost"
REDIS_PORT="6379"

# ─────────────────────────────────────────────────────────────────────────────
# JWT SECRETS (Safe test values - minimum 64 characters)
# ─────────────────────────────────────────────────────────────────────────────
JWT_SECRET="test-jwt-secret-minimum-64-characters-long-for-vitest-testing-only-do-not-use-in-production"
JWT_REFRESH_SECRET="test-refresh-secret-minimum-64-characters-long-for-vitest-only-never-production"
JWT_EXPIRATION="15m"
JWT_REFRESH_EXPIRATION="7d"

# ─────────────────────────────────────────────────────────────────────────────
# STRIPE (Test Mode - Uses Stripe test keys format)
# ─────────────────────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY="sk_test_fake_for_vitest_testing_only"
STRIPE_PUBLISHABLE_KEY="pk_test_fake_for_vitest_testing"
STRIPE_WEBHOOK_SECRET="whsec_fake_for_vitest_testing"

# ─────────────────────────────────────────────────────────────────────────────
# AWS (Mock values - no real API calls in tests)
# ─────────────────────────────────────────────────────────────────────────────
AWS_ACCESS_KEY_ID="AKIAIOSFODNN7TESTONLY"
AWS_SECRET_ACCESS_KEY="wJalrXUtnFEMI/K7MDENG/bPxRfiCYTESTONLY"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="agrobridge-test-bucket"

# ─────────────────────────────────────────────────────────────────────────────
# BLOCKCHAIN (Polygon Mumbai Testnet - safe for tests)
# ─────────────────────────────────────────────────────────────────────────────
BLOCKCHAIN_RPC_URL="https://rpc-mumbai.maticvigil.com"
BLOCKCHAIN_PRIVATE_KEY="0x0000000000000000000000000000000000000000000000000000000000000001"
BLOCKCHAIN_CONTRACT_ADDRESS="0x0000000000000000000000000000000000000001"
BLOCKCHAIN_CHAIN_ID="80001"

# ─────────────────────────────────────────────────────────────────────────────
# EMAIL (Mock - no real emails sent in tests)
# ─────────────────────────────────────────────────────────────────────────────
SENDGRID_API_KEY="SG.test_key_for_vitest"
FROM_EMAIL="test@agrobridge.test"

# ─────────────────────────────────────────────────────────────────────────────
# MONITORING (Disabled in tests)
# ─────────────────────────────────────────────────────────────────────────────
SENTRY_DSN=""
LOG_LEVEL="error"

# ─────────────────────────────────────────────────────────────────────────────
# ENVIRONMENT
# ─────────────────────────────────────────────────────────────────────────────
NODE_ENV="test"
PORT="3000"
API_BASE_URL="http://localhost:3000"
FRONTEND_URL="http://localhost:3001"

# ─────────────────────────────────────────────────────────────────────────────
# FEATURE FLAGS (Disable external dependencies for testing)
# ─────────────────────────────────────────────────────────────────────────────
ENABLE_BLOCKCHAIN="false"
ENABLE_2FA="false"
ENABLE_RATE_LIMITING="false"

# ─────────────────────────────────────────────────────────────────────────────
# SECURITY
# ─────────────────────────────────────────────────────────────────────────────
CORS_ORIGIN="http://localhost:3001"
ALLOWED_HOSTS="localhost"

# ─────────────────────────────────────────────────────────────────────────────
# TESTNET INTEGRATION (Optional - for blockchain testnet tests)
# ─────────────────────────────────────────────────────────────────────────────
RUN_TESTNET_TESTS="false"
